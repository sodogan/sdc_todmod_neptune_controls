sap.ui.define(["./library","sap/ui/core/Control","./ElementHelper","./FormControlSupport","./MarginSupport","./PaddingSupport","./BackgroundSupport","./BorderSupport","./TextSupport","./ShadowSupport"],function(e,t,n,s,o,a,d,r,l,i){"use strict";const u={library:"nep.bootstrap",properties:{selectedKey:{type:"string"},selectedKeys:{type:"string[]"},enabled:{type:"boolean",defaultValue:!0},multiple:{type:"boolean",defaultValue:!1},rows:{type:"int"},size:{type:"nep.bootstrap.InputSize",defaultValue:"Normal"},width:{type:"sap.ui.core.CSSSize",defaultValue:""},height:{type:"sap.ui.core.CSSSize",defaultValue:""}},events:{focus:{},change:{},liveChange:{}},aggregations:{items:{type:"sap.ui.core.Item",multiple:!0,singularName:"item"}},defaultAggregation:"items"};n.addMetadata(u),o.addMetadata(u),a.addMetadata(u),r.addMetadata(u),d.addMetadata(u),l.addMetadata(u),i.addMetadata(u),s.addMetadata(u);const c=t.extend("nep.bootstrap.Select",{metadata:u,renderer:function(t,n){const o=n.getFormLayout(),a=n.getSize(),u=n.getContentBefore(),c=n.getContentAfter(),g=u.length>0||c.length>0,p=n.getItems(),h=n.getSelectedKey(),y=n.getSelectedKeys(),S=n.getRows();s.startRender(t,n),t.openStart("select",n.createSubId("input")),t.class("form-select"),t.addClass(l.getTextAlignment(n.getTextAlignment())),t.addClass(l.getTextColor(n.getTextColor())),t.addClass(l.getFontSize(n.getFontSize())),t.addClass(l.getFontWeight(n.getFontWeight())),t.addClass(d.getBackgroundColor(n.getBackgroundColor())),t.addClass(r.getBorder(n.getBorder())),t.addClass(r.getBorderColor(n.getBorderColor())),t.addClass(r.getBorderRadius(n.getBorderRadius())),t.addClass(r.getBorderSize(n.getBorderSize())),t.addClass(i.getShadow(n.getShadow())),g||a===e.InputSize.Normal||(o===e.FormLayout.Floating?console.warn("Input.size is not supported if FormLayout is Floating!"):t.class("form-select-"+e.InputSizeToClass[a])),n.getEnabled()||t.attr("disabled","disabled"),n.getMultiple()&&t.attr("multiple","multiple"),S&&t.attr("size",S),t.addStyle("width",n.getWidth()),t.addStyle("height",n.getHeight()),t.openEnd();for(let e=0;e<p.length;e++){let n=p[e].getKey(),s=p[e].getText();t.openStart("option"),t.attr("value",p[e].getKey()),(n===h||y&&-1!==y.indexOf(n))&&t.attr("selected","selected"),t.openEnd(),s&&t.write(s),t.close("option")}t.close("select"),s.endRender(t,n)}}),g=c.prototype;return c.getStylePrefix=function(){return"nbsSelect"},g.getAdditionalStyleClass=function(){let e="";return e+=s.createStyleClass(c,this),e+=o.createStyleClass(c,this),e+=a.createStyleClass(c,this)},n.addHelpers(c),g.exit=function(){const e=document.getElementById(this.createSubId("input"));e&&(e.removeEventListener("focus",this.m_fnFocus),e.removeEventListener("change",this.m_fnChange)),this.m_fnFocus=null,this.m_fnChange=null},g.onBeforeRendering=function(e){const t=document.getElementById(this.createSubId("input"));t&&(t.removeEventListener("focus",this.m_fnFocus),t.removeEventListener("change",this.m_fnChange))},g.onAfterRendering=function(e){const t=this,n=this.getMultiple(),s=document.getElementById(this.createSubId("input"));this.m_fnFocus=function(){t.fireFocus()},s.addEventListener("focus",this.m_fnFocus),this.m_fnChange=function(){const e=t.getSelectedKey(),o=s.value;let a,d;if(n){a=t.getSelectedKeys(),d=[];const e=s.options;for(const t of e)t.selected&&d.push(t.value);this.setSelectedKeys(d,!0)}else a=[e],d=[o],this.setSelectedKey(o,!0);t.fireChange({previousSelectedKey:e,newSelectedKey:o,previousSelectedKeys:a,newSelectedKeys:d})},s.addEventListener("change",this.m_fnChange)},g.setSelectedKey=function(e){this.setProperty("selectedKeys",[e],!0),this.setProperty("selectedKey",e,!0);const t=document.getElementById(this.createSubId("input"));return t&&(t.value=e),this},g.setSelectedKeys=function(e){this.setProperty("selectedKey",e&&e.length?e[e.length-1]:null,!0),this.setProperty("selectedKeys",e,!0);const t=document.getElementById(this.createSubId("input"));if(t){const n=t.options;for(const t of n)t.selected=-1!==e.indexOf(t.value)}return this},g.setLabel=function(e,t){const n=document.getElementById(this.createSubId("label"));return n?(this.setProperty("label",e,!0),n.textContent=e):this.setProperty("label",e,t),this},c});