sap.ui.define(["./library","sap/ui/core/Control","./ElementHelper","./BackgroundSupport","./TextSupport","./BorderSupport"],function(e,t,n,o,s,a){"use strict";const i={library:"nep.bootstrap",properties:{placement:{type:"nep.bootstrap.OffcanvasPlacement",defaultValue:e.OffcanvasPlacement.Start},backdrop:{type:"boolean",defaultValue:!0},keyboard:{type:"boolean",defaultValue:!0},scroll:{type:"boolean",defaultValue:!1},title:{type:"string"},closeButton:{type:"boolean",defaultValue:!0}},aggregations:{header:{type:"sap.ui.core.Control",multiple:!0},content:{type:"sap.ui.core.Control",multiple:!0}},defaultAggregation:"content",events:{show:{},shown:{},hide:{},hidden:{}}};n.addMetadata(i),o.addMetadata(i),s.addMetadata(i),a.addMetadata(i);const r=t.extend("nep.bootstrap.Offcanvas",{metadata:i,renderer:function(e,t){let n=t.getTitle(),o=t.getContent(),s=t.getHeader();if(e.openStart("div",t),e.addClass(t.createStyleClass()),e.attr("tabindex","-1"),e.attr("aria-hidden","true"),e.openEnd(),n||s.length){e.openStart("div",t.createSubId("header")),e.class("offcanvas-header"),e.class(t.createStyleClass("header")),e.openEnd(),n&&(e.openStart("h5"),e.class("offcanvas-title"),e.openEnd(),e.text(n),e.close("h5"));for(let t=0;t<s.length;t++)e.renderControl(s[t]);t.getCloseButton()&&(e.openStart("button"),e.attr("data-bs-dismiss","offcanvas"),e.attr("aria-label","Close"),e.class("btn-close"),e.openEnd(),e.close("button")),e.close("div")}e.openStart("div",t.createSubId("body")),e.class("offcanvas-body"),e.class(t.createStyleClass("body")),e.openEnd();for(let t=0;t<o.length;t++)e.renderControl(o[t]);e.close("div"),e.close("div")}}),f=r.prototype;return r.getStylePrefix=function(){return"nbsOffcanvas"},f.getAdditionalStyleClass=function(){let e="offcanvas offcanvas-"+this.getPlacement().toLowerCase();return e+=o.createStyleClass(r,this),e+=s.createStyleClass(r,this),e+=a.createStyleClass(r,this)},n.addHelpers(r),f.exit=function(){let e=this.getParent();if(!e)return;let t=e.oRootNode;if(!t)return;let n=t.firstChild;n&&(this.m_fnShow&&n.removeEventListener("show.bs.offcanvas",this.m_fnShow),this.m_fnShown&&n.removeEventListener("shown.bs.offcanvas",this.m_fnShown),this.m_fnHide&&n.removeEventListener("hide.bs.offcanvas",this.m_fnHide),this.m_fnHidden&&n.removeEventListener("hidden.bs.offcanvas",this.m_fnHidden),document.body.removeChild(t),e.removeContent(this,!0),e.destroy(),this.m_fnShow=null,this.m_fnShown=null,this.m_fnHide=null,this.m_fnHidden=null,this.m_oCanvas=null)},f.onBeforeRendering=function(e){if(!this.m_oCanvas)return;let t=this.getParent();if(!t)return;let n=t.oRootNode;if(!n)return;let o=n.firstChild;o&&(this.m_fnShow&&o.removeEventListener("show.bs.offcanvas",this.m_fnShow),this.m_fnShown&&o.removeEventListener("shown.bs.offcanvas",this.m_fnShown),this.m_fnHide&&o.removeEventListener("hide.bs.offcanvas",this.m_fnHide),this.m_fnHidden&&o.removeEventListener("hidden.bs.offcanvas",this.m_fnHidden))},f.onAfterRendering=function(e){let t=this.getParent();if(!t)throw new Error("Cannot access parent UIArea!");let n=t.oRootNode;if(!n)throw new Error("Cannot access DOM of parent UIArea!");let o=this,s=n.firstChild;if(!s)throw new Error("Offcanvas is not first child of UIArea!");this.m_oCanvas=new bootstrap.Offcanvas(s,{backdrop:this.getBackdrop(),keyboard:this.getKeyboard(),scroll:this.getScroll()}),this.m_fnShow=function(){o.fireShow()},this.m_fnShown=function(){o.fireShown()},this.m_fnHide=function(){o.fireHide()},this.m_fnHidden=function(){o.fireHidden(),document.body.removeChild(n),t.removeContent(o,!0),t.destroy()},s.addEventListener("show.bs.offcanvas",this.m_fnShow),s.addEventListener("shown.bs.offcanvas",this.m_fnShown),s.addEventListener("hide.bs.offcanvas",this.m_fnHide),s.addEventListener("hidden.bs.offcanvas",this.m_fnHidden)},f.show=function(){if(this.getParent())return this.m_oCanvas.show(),this;let e=this,t=document.createElement("div");return t.className="nbs-layer",this.placeAt(t),requestAnimationFrame(function(){document.body.appendChild(t),requestAnimationFrame(function(){e.m_oCanvas.show()})}),this},f.hide=function(){if(this.m_oCanvas)return this.m_oCanvas.hide(),this;console.error("Cannot hide Offcanvas: Offcanvas has never been shown.")},f.toggle=function(){if(this.m_oCanvas)return this.m_oCanvas.toggle(),this;console.error("Cannot toggle Offcanvas: Offcanvas has never been shown.")},r.show=function(e,t){new r({title:t,message:e}).show()},r});