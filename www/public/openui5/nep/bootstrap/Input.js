sap.ui.define(["./library","sap/ui/core/Control","./ElementHelper","./FormControlSupport","./MarginSupport","./PaddingSupport","./BackgroundSupport","./BorderSupport","./TextSupport","./ShadowSupport"],function(e,t,a,n,i,o,l,r,s,d){"use strict";const u={library:"nep.bootstrap",properties:{value:{type:"string"},minValue:{type:"int"},maxValue:{type:"int"},valueStep:{type:"float"},minLength:{type:"int"},maxLength:{type:"int"},required:{type:"boolean",defaultValue:!1},type:{type:"nep.bootstrap.InputType",defaultValue:e.InputType.Text},placeholder:{type:"string"},enabled:{type:"boolean",defaultValue:!0},editable:{type:"boolean",defaultValue:!0},plainText:{type:"boolean",defaultValue:!1},size:{type:"nep.bootstrap.InputSize",defaultValue:"Normal"},width:{type:"sap.ui.core.CSSSize",defaultValue:""},height:{type:"sap.ui.core.CSSSize",defaultValue:""},liveChangeEnabled:{type:"boolean",defaultValue:!1},autoValidation:{type:"boolean",defaultValue:!1},validity:{type:"nep.bootstrap.InputValidity",defaultValue:e.InputValidity.None}},events:{focus:{},change:{},liveChange:{}},aggregations:{items:{type:"sap.ui.core.Item",multiple:!0,singularName:"item"}},defaultAggregation:"items"};a.addMetadata(u),i.addMetadata(u),o.addMetadata(u),r.addMetadata(u),l.addMetadata(u),s.addMetadata(u),d.addMetadata(u),n.addMetadata(u);const p=t.extend("nep.bootstrap.Input",{metadata:u,renderer:function(t,a){const i=a.getValue(),o=a.getFormLayout(),u=a.getSize(),p=a.getType(),g=a.getPlaceholder(),c=a.getMinLength(),h=a.getMaxLength(),y=a.getContentBefore(),m=a.getContentAfter(),f=y.length>0||m.length>0,I=p===e.InputType.TextArea?"textarea":"input",C=a.getItems(),S=a.getValidity();if(n.startRender(t,a),t.openStart(I,a.createSubId("input")),p===e.InputType.Range?t.class("form-range"):t.class("form-control"),p===e.InputType.Color&&t.class("form-control-color"),a.getPlainText()&&(p===e.InputType.Color||p===e.InputType.Range?console.warn("PlainText is not supported for type: "+p):t.class("form-control-plaintext")),S!==e.InputValidity.None&&t.class("is-"+S.toLowerCase()),p===e.InputType.Range){const e=a.getMinValue(),n=a.getMaxValue(),i=a.getValueStep();e&&t.attr("min",e),n&&t.attr("max",n),i&&t.attr("step",i)}if(t.addClass(s.getTextAlignment(a.getTextAlignment())),t.addClass(s.getTextColor(a.getTextColor())),t.addClass(s.getFontSize(a.getFontSize())),t.addClass(s.getFontWeight(a.getFontWeight())),t.addClass(l.getBackgroundColor(a.getBackgroundColor())),t.addClass(r.getBorder(a.getBorder())),t.addClass(r.getBorderColor(a.getBorderColor())),t.addClass(r.getBorderRadius(a.getBorderRadius())),t.addClass(r.getBorderSize(a.getBorderSize())),t.addClass(d.getShadow(a.getShadow())),f||u===e.InputSize.Normal||(o===e.FormLayout.Floating?console.warn("Input.size is not supported if FormLayout is Floating!"):t.class("form-control-"+e.InputSizeToClass[u])),i&&t.attr("value",i),p&&p!==e.InputType.TextArea&&t.attr("type",e.InputTypeToAttr[p]),p!==e.InputType.Color&&p!==e.InputType.Range&&(c&&t.attr("minlength",c),h&&t.attr("maxlength",h)),g&&t.attr("placeholder",g),a.getEnabled()||t.attr("disabled","disabled"),a.getRequired()&&t.attr("required","required"),a.getEditable()||t.attr("readonly","readonly"),t.addStyle("width",a.getWidth()),t.addStyle("height",a.getHeight()),C.length>0&&t.attr("list",a.createSubId("datalist")),t.openEnd(),t.close(I),C.length>0){t.openStart("datalist",a.createSubId("datalist")),t.openEnd();for(let e=0;e<C.length;e++){let a=C[e].getText();t.openStart("option"),t.attr("value",C[e].getKey()),t.openEnd(),a&&t.write(a),t.close("option")}t.close("datalist")}n.endRender(t,a)}}),g=p.prototype;return p.getStylePrefix=function(){return"nbsInput"},g.getAdditionalStyleClass=function(){let e="";return e+=n.createStyleClass(p,this),e+=i.createStyleClass(p,this),e+=o.createStyleClass(p,this)},a.addHelpers(p),g.exit=function(){const e=document.getElementById(this.createSubId("input"));e&&(e.removeEventListener("focus",this.m_fnFocus),e.removeEventListener("change",this.m_fnChange),e.removeEventListener("input",this.m_fnLiveChange)),this.m_fnFocus=null,this.m_fnChange=null,this.m_fnLiveChange=null,this.m_sLastValue=null},g.onBeforeRendering=function(e){const t=document.getElementById(this.createSubId("input"));t&&(t.removeEventListener("focus",this.m_fnFocus),t.removeEventListener("change",this.m_fnChange),t.removeEventListener("input",this.m_fnLiveChange))},g.onAfterRendering=function(e){const t=this,a=document.getElementById(this.createSubId("input"));this.m_fnFocus=function(){t.m_sLastValue=t.getValue(),t.fireFocus()},a.addEventListener("focus",this.m_fnFocus),this.m_fnChange=function(){const e=t.m_sLastValue,n=a.value;e!==n&&(t.setProperty("value",n,!0),t.getAutoValidation()&&t.checkValidity(),t.fireChange({previousValue:e,newValue:n}))},a.addEventListener("change",this.m_fnChange),this.getLiveChangeEnabled()&&(this.m_fnLiveChange=function(){const e=t.getValue(),n=a.value;e!==n&&(t.setProperty("value",n,!0),t.fireLiveChange({previousValue:e,newValue:n}))},a.addEventListener("input",this.m_fnLiveChange))},g.setValue=function(e,t){const a=document.getElementById(this.createSubId("input"));return a?(this.setProperty("value",e,!0),a.value=e):this.setProperty("value",e,t),this},g.setLabel=function(t,a){const n=document.getElementById(this.createSubId("label"));return n?(this.setProperty("label",t,!0),n.textContent=t,this.getFormLayout()===e.FormLayout.Floating&&(this.setProperty("placeholder",t,!0),document.getElementById(this.createSubId("input")).placeholder=t)):(this.getFormLayout()===e.FormLayout.Floating&&this.setProperty("placeholder",t,!0),this.setProperty("label",t,a)),this},g.setValidity=function(t,a){const n=document.getElementById(this.createSubId("input"));return n?(this.setProperty("validity",t,!0),n.classList.toggle("is-valid",t===e.InputValidity.Valid),n.classList.toggle("is-invalid",t===e.InputValidity.Invalid)):this.setProperty("validity",t,a),this},g.checkValidity=function(){const t=document.getElementById(this.createSubId("input"));if(t){let a=t.checkValidity();this.setValidity(a?e.InputValidity.Valid:e.InputValidity.Invalid,!0)}},p});