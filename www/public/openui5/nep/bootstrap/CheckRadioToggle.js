sap.ui.define(["./library","sap/ui/core/Control","./ElementHelper","./MarginSupport"],function(e,t,o,n){"use strict";const a={library:"nep.bootstrap",properties:{type:{type:"nep.bootstrap.CheckRadioToggleType",defaultValue:e.CheckRadioToggleType.Checkbox},enabled:{type:"boolean",defaultValue:!0},selected:{type:"boolean",defaultValue:!1},label:{type:"string"},name:{type:"string"},toggleButtonType:{type:"nep.bootstrap.ButtonType",defaultValue:e.ButtonType.Default},toggleButtonContextColor:{type:"nep.bootstrap.ContextColor",defaultValue:e.ContextColor.Secondary}},events:{focus:{},change:{}}};o.addMetadata(a),n.addMetadata(a);const d=t.extend("nep.bootstrap.CheckRadioToggle",{metadata:a,renderer:function(t,o){const n=o.getLabel(),a=o.getType(),d=o.getName(),l=o.createSubId("input"),c=a===e.CheckRadioToggleType.Radio||a===e.CheckRadioToggleType.RadioToggle;if(t.openStart("div",o),t.addClass(o.createStyleClass()),t.openEnd(),n&&a!==e.CheckRadioToggleType.ToggleButton&&(t.openStart("label",o.createSubId("label")),t.addClass("form-check-label"),t.attr("for",l),t.openEnd(),t.text(n),t.close("label")),t.openStart("input",l),a===e.CheckRadioToggleType.ToggleButton||a===e.CheckRadioToggleType.RadioToggle?t.addClass("btn-check"):t.addClass("form-check-input"),t.attr("type",c?"radio":"checkbox"),o.getSelected()&&t.attr("checked","checked"),o.getEnabled()||t.attr("disabled","disabled"),c&&d&&t.attr("name",d),t.openEnd(),t.close("input"),a===e.CheckRadioToggleType.ToggleButton||a===e.CheckRadioToggleType.RadioToggle){const a=o.getToggleButtonType(),d=o.getToggleButtonContextColor();switch(t.openStart("label",o.createSubId("label")),t.addClass("btn"),a){case e.ButtonType.Default:t.addClass("btn-"+d.toLowerCase());break;case e.ButtonType.Outline:t.addClass("btn-outline-"+d.toLowerCase());break;default:throw new Error("Invalid ToggleButtonType!")}t.attr("for",l),t.openEnd(),t.text(n),t.close("label")}t.close("div")}}),l=d.prototype;return d.getStylePrefix=function(){return"nbsCheckRadioToggle"},l.getAdditionalStyleClass=function(){let t="";switch(this.getType()){case e.CheckRadioToggleType.Checkbox:case e.CheckRadioToggleType.Radio:t="form-check";break;case e.CheckRadioToggleType.Switch:t="form-check form-switch"}return t+=n.createStyleClass(d,this)},o.addHelpers(d),l.exit=function(e){const t=document.getElementById(this.createSubId("input"));t&&(t.removeEventListener("focus",this.m_fnFocus),t.removeEventListener("change",this.m_fnChange))},l.onBeforeRendering=function(e){const t=document.getElementById(this.createSubId("input"));t&&(t.removeEventListener("focus",this.m_fnFocus),t.removeEventListener("change",this.m_fnChange))},l.onAfterRendering=function(t){const o=this,n=document.getElementById(this.createSubId("input"));this.m_fnFocus=function(){o.fireFocus()},n.addEventListener("focus",this.m_fnFocus),this.m_fnChange=function(){const t=o.getSelected(),a=n.checked,d=o.getType();if(d===e.CheckRadioToggleType.Radio||d===e.CheckRadioToggleType.RadioToggle){let e=o.getRelatedRadios();for(const t of e)t!==o&&t.setSelected(!1,!0)}o.setProperty("selected",a,!0),o.fireChange({previousSelected:t,newSelected:a})},n.addEventListener("change",this.m_fnChange)},l.setSelected=function(e,t){const o=document.getElementById(this.createSubId("input"));return o?(o.checked=e,this.setProperty("selected",e,!0)):this.setProperty("selected",e,t),this},l.getRelatedRadios=function(){const t=this.getType();if(!(t===e.CheckRadioToggleType.Radio||t===e.CheckRadioToggleType.RadioToggle))throw new Error("Cannot get related Radios: control must be of type Radio or RadioToggle!");const o=this.getName();if(!o)throw new Error("Cannot get related Radios: name property is not set!");const n=document.querySelectorAll("."+d.getStylePrefix()+' [name="'+o+'"]'),a=[];for(const e of n){const t=e.parentNode.id,o=sap.ui.getCore().byId(t);o&&a.push(o)}return a},l.getSelectedRadio=function(){const e=this.getRelatedRadios();for(const t of e)if(t.getSelected())return t;return null},d});